## reduxä¸­å‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®

```javascript
//todolist.jsxä¸­ä»£ç 

// import React, { Component } from 'react';
// import "./style.css";
// import 'antd/dist/antd.css';
// import store from "./store";
// import * as actions from "./store/actionCreator";
// import TodoListUi from "./todolistUI";
import axios from "axios";
// class Todolist extends Component {
//     constructor (props){
//         super(props);
//         this.state=store.getState();
//         this.handleInputChange=this.handleInputChange.bind(this);
//         this.handleStoreChange=this.handleStoreChange.bind(this);
//         this.handleBtnClick=this.handleBtnClick.bind(this);
//         this.handleDeleteItem=this.handleDeleteItem.bind(this);
//         store.subscribe(this.handleStoreChange);
//     }

    //ç”Ÿå‘½å‘¨æœŸå‡½æ•°

    componentDidMount(){
        axios.get("./api/list.json").then((res)=>{
            const data=res.data;
            const action=actions.getInitStateAction(data);
            store.dispatch(action);
        })
    }
    
    //æ´¾å‘acitonçš„å‡½æ•°

    // handleInputChange(e){
    //     const action=actions.handleInputChangeAction(e.target.value);
    //     store.dispatch(action);
    // }

    //æ´¾å‘å¢åŠ todolistçš„action

    // handleBtnClick(){
    //     const action=actions.handleBtnClickAction();
    //     store.dispatch(action);
    // }

    //æ´¾å‘åˆ é™¤itemé¡¹çš„action

    // handleDeleteItem(index){
    //     const action=actions.handleDeleteItemAction();
    //     store.dispatch(action);
    // }

    //ç›‘å¬storeå†…æ•°æ®å˜åŒ–çš„æ—¶å€™

//     handleStoreChange(){
//         this.setState(store.getState());
//     }
//     render() { 
//         return (
//             <TodoListUi 
//             inputValue={this.state.inputValue}
//             handleInputChange={this.handleInputChange}
//             handleDeleteItem={this.handleDeleteItem}
//             handleBtnClick={this.handleBtnClick}
//             list={this.state.list}
//             />
//             )
//     }
// }
// export default Todolist;

//reudcer.jsä¸­ä»£ç 

import {CHANGE_INPUT_VALUE,ADD_TODO_ITEM,HANDLE_DELETE_ITEM,GET_INIT_STATE} from "./actionTypes";
const defaultState={
 inputValue:"iverson",
 list:[ 
 'Racing car sprays burning fuel into crowd.',
 'Japanese princess to wed commoner.',
 'Australian walks 100km after outback crash.',
 'Man charged over missing wedding girl.',
 'Los Angeles battles huge wildfires.',]
}
export default (state=defaultState,action)=>{
    // if(action.type===CHANGE_INPUT_VALUE){
    //     const newState=JSON.parse(JSON.stringify(state)); // 1* æ·±æ‹·è´å¯¹è±¡ 
    //     newState.inputValue=action.value;
    //     console.log(action);
    //     return newState;
    // }
    // if(action.type===ADD_TODO_ITEM){
    //     const newState=JSON.parse(JSON.stringify(state));
    //      newState.list.push(newState.inputValue);
    //      newState.inputValue="";
    //      console.log(newState);
    //      return newState;
    // }
    // if(action.type===HANDLE_DELETE_ITEM){
    //     const newState=JSON.parse(JSON.stringify(state));
    //     newState.list.splice(action.index,1);
    //     return newState;
    // } 
    if(action.type===GET_INIT_STATE){
        const newState=JSON.parse(JSON.stringify(state));
        newState.list=action.data;
        return newState;
    }
    console.log(action);
    return state;
}
```
ğŸŒŸæ€ä¹ˆè¯´å‘¢ï¼Œä¸­è§„ä¸­çŸ©å§ï¼Œä¸»è¦è¿˜æ˜¯è¦å…»æˆä¹ æƒ¯ï¼Œä¸€æ—¦è¦å¯¹storeåšå˜åŒ–ï¼Œå°±å¿…é¡»æŒ‰ç…§æµç¨‹èµ°ï¼š<br>
åˆ›å»ºaction --> æ´¾å‘action --> reducerå¯¹æ¯”actionä½œå‡ºç›¸åº”æ”¹å˜ã€‚
