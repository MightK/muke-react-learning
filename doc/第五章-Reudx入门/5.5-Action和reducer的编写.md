## Actionå’Œreducerçš„ç¼–å†™

1âƒ£ï¸todolistä¸­actionçš„æ´¾å‘ï¼š
```javascript
import React, { Component } from 'react';
import "./style.css";
import 'antd/dist/antd.css';
import { Input } from 'antd';
import { Button } from 'antd';
import { List} from 'antd';
import store from "./store";
class Todolist extends Component {
    constructor (props){
        super(props);
        this.state=store.getState();
        this.handleInputChange=this.handleInputChange.bind(this);
        this.handleStoreChange=this.handleStoreChange.bind(this);
        this.handleBtnClick=this.handleBtnClick.bind(this);
        store.subscribe(this.handleStoreChange);
    }
    //1* æ´¾å‘acitonçš„å‡½æ•°
    handleInputChange(e){
        const action={
            type:"change_input_value",
            value:e.target.value
        }
        store.dispatch(action);
    }
    //2* æ´¾å‘å¢åŠ todolistçš„action
    handleBtnClick(){
        const action={
            type:"add_todo_item"
        }
        store.dispatch(action)
    }
    //3* ç›‘å¬storeå†…æ•°æ®å˜åŒ–çš„æ—¶å€™
    handleStoreChange(){
        this.setState(store.getState());
    }
    render() { 
        return ( 
            <div style={{marginTop:"10px"}}>
                <Input 
                    placeholder={this.state.inputValue} 
                    style={{width:"300px"}}
                    value={this.state.inputValue}
                    onChange={this.handleInputChange}
                />
                <Button 
                    type="primary" 
                    style={{marginLeft:"10px"}}
                    onClick={this.handleBtnClick}
                >æ äº¤
                </Button>  
                <List
                style={{marginTop:"10px",width:"300px"}}
                bordered
                dataSource={this.state.list}
                renderItem={item => (
                    <List.Item>
                       {item}
                    </List.Item>
                )}
                />
            </div>    
         );
    }
}
 
export default Todolist;
```
store.subscribe(this.handleStoreChange);å‡½æ•°æ˜¯ç”¨æ¥ç›‘å¬storeå†…æ•°æ®çš„å˜åŒ–ï¼Œå¦‚æœå˜åŒ–äº†ï¼Œå°±æ‰§è¡ŒhandleStoreChangeï¼Œä»è€Œè¾¾åˆ°åˆ·æ–°æ•°æ®çš„ç›®çš„ã€‚


2âƒ£ï¸reducerå¯¹æ•°æ®çš„å¤„ç†ï¼š
```javascript
const defaultState={
 inputValue:"iverson",
 list:[ 
 'Racing car sprays burning fuel into crowd.',
 'Japanese princess to wed commoner.',
 'Australian walks 100km after outback crash.',
 'Man charged over missing wedding girl.',
 'Los Angeles battles huge wildfires.',]
}
export default (state=defaultState,action)=>{
    if(action.type==="change_input_value"){
        const newState=JSON.parse(JSON.stringify(state)); // 1* æ·±æ‹·è´å¯¹è±¡ 
        newState.inputValue=action.value;
        console.log(action);
        return newState;
    }
    if(action.type==="add_todo_item"){
        const newState=JSON.parse(JSON.stringify(state));
         newState.list.push(newState.inputValue);
         newState.inputValue="";
         console.log(newState);
         return newState;
    }
       
    console.log(action);
    return state;
}
```

è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œreducerå¯ä»¥æ¥æ”¶stateï¼Œä½†æ˜¯ç»å¯¹ä¸èƒ½å¤Ÿä¿®æ”¹stateã€‚æ‰€ä»¥æ‰ç”¨æ·±æ‹·è´çš„æ–¹æ³•å¤åˆ¶äº†ä¸€ä¸ªæ–°çš„stateï¼Œç„¶ååœ¨æ–°çš„stateä¸Šåšä¿®æ”¹ã€‚ä¸‹é¢ğŸ‘‡ä»‹ç»ä¸‹æ·±æ‹·è´çš„ä¸¤ç§æ–¹æ³•ï¼š

### æ–¹æ³•1ï¼šJSON.parse(JSON.stringify(obj))ï¼›

```javascript
let faker ={        
        name:{         
            xing:{ 
             first:'ç›¸èµ«',             
             second:'æ'
                },        
            ming:'åŠ æ²¹'
        },
        age :23,      
        honour :['ä¸–ç•Œå† å†›','æ˜¯','faker']
     }      
     let uzi = JSON.parse(JSON.stringify(faker))
      uzi.age = 22
      uzi.name.xing.first = 'å­è±ª'
      uzi.name.xing.second = 'ç®€'
      uzi.honour[2] = 'UZI'
      console.log(faker)      console.log(uzi)

```
### JSONçš„æ·±æ‹·è´æ–¹å¼ä¼šå¿½ç•¥å‡½æ•°å¯¹è±¡å’ŒåŸå‹å¯¹è±¡ï¼Œç”¨çš„æ—¶å€™éœ€è°¨æ…,è€ƒè™‘å®é™…è¿ç”¨ 

### æ–¹æ³•2ï¼š Object.assign(ç›®æ ‡å¯¹è±¡,æºå¯¹è±¡)

```javascript
let smlz = {      
        name:'å¸é©¬è€è´¼'
    }   
    let SMLZ = Object.assign({},smlz)   
    console.log(smlz === SMLZ)   
    console.log(SMLZ)
```

### Object.assign å­˜åœ¨ç›®æ ‡å¯¹è±¡å’Œæºå¯¹è±¡ä¼ å€¼,æ‰€ä»¥è¿™é‡Œ.ç›®æ ‡å¯¹è±¡ä¼ {}




